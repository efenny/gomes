"use strict";var firstLoad=function(){"true"!==localStorage.getItem("visited")?(document.querySelector("body").classList.add("first-visit"),localStorage.setItem("visited","true")):document.querySelector("body").classList.add("visited")},wordSpanWrapper=function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var a,i=e.split(" ")[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var l=a.value;t.push('<span data-word="'.concat(l,'">').concat(l,"</span>"))}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return t.join(" ")},letterSpanWrapper=function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var a,i=e.split("")[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var l=a.value;t.push('<span data-letter="'.concat(l,'">').concat(l,"</span>"))}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return t.join("")},splashOpening=function(){animateLetters(".character-slide")},aboutPage=function(){animateLetters(".text-wrapper p")};function animateLetters(e){var t=document.querySelectorAll(e),n=!0,r=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var l=a.value;l.innerHTML=wordSpanWrapper(l.innerHTML)}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}}function beforeAfter(){var e=document.getElementsByClassName("item-wrapper");function t(e){var t=!0,n=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0)for(var i=o.value,l=i.children[0].clientHeight,c=i.children[0].clientWidth,s=1;s<3;s++)i.children[s].style.height=l+"px",i.children[s].style.width=c/2+"px",i.children[s].style.backgroundSize=c+"px "+l+"px"}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}window.addEventListener("resize",function(){t(e)}),function(e){var r=void 0,o=void 0,t=!0,n=!1,a=void 0;try{for(var i,l=function(){var n=i.value;function e(){var e=n.getBoundingClientRect();r=e.x,o=e.width}function t(e){var t=(e.clientX-r)/o*100;n.children[n.children.length-1].style.setProperty("width",t+"%")}n.addEventListener("mouseenter",e),n.addEventListener("touchstart",e),n.addEventListener("mousemove",t),n.addEventListener("touchmove",t)},c=e[Symbol.iterator]();!(t=(i=c.next()).done);t=!0)l()}catch(e){n=!0,a=e}finally{try{t||null==c.return||c.return()}finally{if(n)throw a}}}(e),t(e)}var homeMasonry=function(){jQuery(".design .row-inner").masonry({itemSelector:".case-study",columnWidth:0})},retouchedMasonry=function(){jQuery(".retouching .row-inner").masonry({itemSelector:".retouched",columnWidth:.5})},mobileMenuFunctionality=function(){var e=document.getElementsByClassName("mobile-button")[0],t=document.getElementsByClassName("mobile-menu")[0];e.addEventListener("click",function(){document.getElementsByTagName("body")[0].classList.toggle("mobile-active"),e.classList.toggle("active"),t.classList.toggle("active")}),jQuery(".mobile-menu li a").click(function(){jQuery("body").removeClass("mobile-active")})},textFollow=function(){var a=jQuery(window);function e(){if(1024<a.width()){var e=new ScrollMagic.Controller,t=document.querySelector(".row.website img"),n=document.querySelector(".row.website .text-wrapper").clientHeight,r=t.height,o=new ScrollMagic.Scene({triggerElement:".row.website .row-inner .text-wrapper",duration:r-n}).setPin(".row.website .row-inner .text-wrapper");e.addScene(o)}}e(),jQuery(window).resize(e)},highRez=function(){if(1<window.devicePixelRatio){var e=document.querySelectorAll("[data-retina]"),t=!0,n=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value,l=jQuery(i).find("img").attr("src"),c=l.slice(0,l.length-4)+"_retina_5k"+l.slice(l.length-4);jQuery(i).find("img").attr("src",c)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}},pageTransitions=function(){var e={prefetch:!0,cacheLength:2,scroll:!0,onStart:{duration:500,render:function(e){jQuery("body").addClass("is-exiting"),t.restartCSSAnimations()}},onProgress:{duration:500,render:function(e){jQuery("body").addClass("on-progress")}},onReady:{duration:500,render:function(e,t){jQuery("body").removeClass("on-progress"),e.html(t)}},onAfter:function(e,t){Ready(),jQuery("body").removeClass("is-exiting")}},t=jQuery("#main").smoothState(e).data("smoothState")};function Ready(){pageTransitions(),firstLoad(),splashOpening(),mobileMenuFunctionality(),document.getElementsByClassName("content")[0].className.match("page-id-10")&&beforeAfter(),(document.getElementsByClassName("content")[0].className.match("postid-41")||document.getElementsByClassName("content")[0].className.match("postid-73"))&&textFollow(),document.getElementsByClassName("content")[0].className.match("page-id-8")&&retouchedMasonry(),document.getElementsByClassName("content")[0].className.match("home")&&homeMasonry(),document.getElementsByClassName("content")[0].className.match("page-id-12")&&aboutPage(),AOS.init({duration:700,anchorPlacement:"center-top"}),highRez()}window.onload=function(){Ready()};